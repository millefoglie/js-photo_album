{"version":3,"sources":["webpack:///webpack/bootstrap 5d393e1656fb89c79472","webpack:///./js/app.js","webpack:///./js/contentloader.js","webpack:///./js/http.js","webpack:///./js/modals.js","webpack:///./js/animation.js","webpack:///./js/authorization.js","webpack:///./js/menushelper.js","webpack:///./js/iehelper.js","webpack:///./js/lib/meld.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./js/controllers ^\\.\\/.*controller\\.js$","webpack:///./js/controllers/aboutcontroller.js","webpack:///./js/views/aboutview.js","webpack:///./js/controllers/contactcontroller.js","webpack:///./js/views/contactview.js","webpack:///./js/controllers/photocontroller.js","webpack:///./js/views/photoview.js","webpack:///./js/controllers/photoslistcontroller.js","webpack:///./js/views/photoslistview.js","webpack:///./js/listenersregistry.js","webpack:///./js/controllers/searchcontroller.js","webpack:///./js/views/searchview.js","webpack:///./js/controllers/signincontroller.js","webpack:///./js/views/signinview.js","webpack:///./js/controllers/signoutcontroller.js","webpack:///./js/controllers/signupcontroller.js","webpack:///./js/views/signupview.js","webpack:///./js/controllers/uploadcontroller.js","webpack:///./js/views/uploadview.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAqB,uBAAuB;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;ACxCA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;AAEA,sC;;;;;;ACpDA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;;AAEA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;AAEA,6B;;;;;;ACrDA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA,qC;;;;;;AC9BA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAc,qBAAqB;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA,mCAAkC,aAAa;;AAE/C;AACA;AACA;;AAEA,kBAAiB,YAAY;AAC7B,8CAA6C,aAAa;AAC1D;;AAEA;AACA;;AAEA,kC;;;;;;AClHA;;AAEA;;AAEA;AACA;AACA,iBAAgB;;AAEhB;AACA;AACA,GAAE;AACF;;AAEA;AACA,iBAAgB;AAChB;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;;AAEA,sC;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA,oC;;;;;;ACzIA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAgB,qBAAqB;AACrC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,iBAAgB,qBAAqB;AACrC;AACA;AACA;;AAEA,iC;;;;;;ACpEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,oCAAmC,oCAAoC;;AAEvE;AACA;AACA;AACA,aAAY,gBAAgB;AAC5B,aAAY,6BAA6B;AACzC,aAAY,OAAO;AACnB,aAAY,UAAU;AACtB,aAAY,UAAU;AACtB,aAAY,UAAU;AACtB,aAAY,UAAU;AACtB,aAAY,UAAU;AACtB,aAAY,UAAU;AACtB,gBAAe,mBAAmB,UAAU;AAC5C,eAAc,mBAAmB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;AACL;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,wCAAuC,qCAAqC;AAC5E;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,EAAE;AACrB,wBAAuB,OAAO;AAC9B,cAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B,oBAAmB,OAAO;AAC1B,cAAa,SAAS;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,OAAO;AAC9B,oBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,OAAO;AAC9B,oBAAmB,OAAO;AAC1B,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,qCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,4CAA2C,UAAU;;AAErD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC,SAAS;AAC9C;AACA;AACA;;AAEA;AACA,iCAAgC,QAAQ;AACxC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0CAAyC,SAAS;AAClD,IAAG,YAAY;AACf;;AAEA;;AAEA,EAAC;AACD,EAAC,wBAAuG;AACxG;;;;;;;ACrlBA,8BAA6B,mDAAmD;;;;;;;ACAhF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtBA;;AAEA;AACA;AACA;;AAEA,mBAAkB,c;;;;;;ACNlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB;;;;;;ACVlB;;AAEA;AACA;AACA;;AAEA,mBAAkB,c;;;;;;ACNlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB;;;;;;ACVlB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA,IAAG,oBAAoB;AACvB;AACA;;AAEA,mBAAkB,c;;;;;;AC3DlB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAkB,gB;;;;;;ACjElB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH,GAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,oCAAmC;AACnC;;AAEA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG,oBAAoB;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,G;;;;;;AC5MA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAe;AACf,GAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAkB,gB;;;;;;AC1GlB;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;ACxDA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,mBAAkB,c;;;;;;AC1BlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB;;;;;;ACVlB;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,K;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB,c;;;;;;ACvDlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB;;;;;;ACVlB;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,c;;;;;;ACRlB;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAkB,c;;;;;;AC7DlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB;;;;;;ACVlB;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAiB;;AAEjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,e;AACA;AACA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,wB;AACA;AACA,U;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAkB,c;;;;;;ACxHlB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA,mBAAkB,gB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5d393e1656fb89c79472\n **/","window.onload = function() {\n\n\tvar contentloader = require(\"./contentloader.js\");\n\tvar ui = require(\"./menushelper.js\");\n\tvar animation = require(\"./animation.js\");\n\tvar ieHelper = require(\"./iehelper.js\");\n\t\n\tvar controllers = {};\n\t\"photosList, about, contact, signUp, signIn, signOut, search, upload, photo\"\n\t.split(\", \").forEach(function(it) {\n\t\tcontrollers[it + \"Controller\"] =\n\t\trequire(\"./controllers/\" + it.toLowerCase() + \"controller.js\");\n\t});\n\t\n\tvar routes = {\n\t\t\"/about\": controllers.aboutController.start,\n\t\t\"/contact\": controllers.contactController.start,\n\t\t\"/signup\": controllers.signUpController.start,\n\t\t\"/signin\": controllers.signInController.start,\n\t\t\"/signout\": controllers.signOutController.start,\n\t\t\"/upload\": controllers.uploadController.start,\n\t\t\"/search\": controllers.searchController.start,\n\t\t\"/profile\": controllers.photosListController.showUsersPhotos,\n\t\t\"/photos\": controllers.photosListController.start,\n\t};\n\t\n\tvar router = new Router(routes);\n\n\tcontentloader.init({containerId: \"content\"});\n\trouter.init();\n\tanimation.init();\n\n\tif (navigator.appVersion.indexOf(\"MSIE 8\") > -1) {\n\t\tieHelper.init();\n\t}\n\n\tanimation.slider(document.getElementById(\"slider\"), 7500, 2500);\n\n\tui.authorization.menu().autoupdate();\n\tui.album.menu().user().upload().update();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/app.js\n ** module id = 0\n ** module chunks = 0\n **/","var http = require(\"./http.js\");\nvar auth = require(\"./authorization.js\");\nvar modals = require(\"./modals.js\");\nvar animation = require(\"./animation.js\");\n\nfunction ContentLoader() {}\n\nContentLoader.prototype.init = function(options) {\n\tif (!options) {\n\t\treturn;\n\t}\n\t\n\tthis.containerId = options.containerId;\n\tthis.path = options.path || \"./html/\";\n\tthis.extention = options.extention || \".html\";\n};\n\nContentLoader.prototype.render = function(page) {\n\tvar self = this;\n\n\treturn new Promise(function(resolve, reject) {\n\t\tvar xhr = new moxie.xhr.XMLHttpRequest();\n\t\tvar url = self.path + page + self.extention;\n\n\t\txhr.open(\"GET\", url, true);\n\t\txhr.timeout = 10000;\n\t\t\n\t\txhr.onreadystatechange = function() {\n\t\t\tvar container = document.getElementById(self.containerId);\n\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (parseInt(xhr.status / 100) == 2) {\n\t\t\t\t\tanimation.fadeOut(container, 200);\n\t\t\t\t\tcontainer.innerHTML = xhr.response;\n\t\t\t\t\tanimation.fadeIn(container, 200);\n\t\t\t\t\tresolve(xhr.response);\n\t\t\t\t} else {\n\t\t\t\t\tmodals.showError(xhr.response);\n\t\t\t\t\treject(xhr.response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\txhr.ontimeout = function() {\n\t\t\tmodals.showError(\"Could not load page.\");\n\t\t\txhr.abort();\n\t\t};\n\t\t\n\t\txhr.send();\n\t});\n};\n\nmodule.exports = new ContentLoader();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/contentloader.js\n ** module id = 1\n ** module chunks = 0\n **/","var modals = require(\"./modals.js\");\n\nfunction Http() {}\n\nHttp.prototype.get = function(url, requestBody, headers) {\n\treturn this.performRequest(\"GET\", url, requestBody, headers);\n};\n\nHttp.prototype.post = function(url, requestBody, headers) {\n\treturn this.performRequest(\"POST\", url, requestBody, headers);\n};\n\nHttp.prototype.performRequest = function(method, url, requestBody, headers) {\n\tvar self = this;\n\t\n\treturn new Promise(function(resolve, reject) {\n\t\tvar xhr = new moxie.xhr.XMLHttpRequest();\n\t\tvar result;\n\n\t\txhr.open(method, url, true);\n\t\t\n\t\tfor (var h in headers) {\n\t\t\txhr.setRequestHeader(h, headers[h]);\n\t\t}\n\n\t\txhr.timeout = 10000;\n\t\t\n\t\txhr.onreadystatechange = function() {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (parseInt(xhr.status / 100) == 2) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = JSON.parse(xhr.response);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tresult = xhr.response;\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(result);\n\t\t\t\t} else {\n\t\t\t\t\tmodals.showError(xhr.response);\n\t\t\t\t\treject(xhr.response);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\txhr.ontimeout = function() {\n\t\t\tmodals.showError(\"Could not receive response from the server.\");\n\t\t\txhr.abort();\n\t\t};\n\t\t\n\t\txhr.send(requestBody);\n\t});\n};\n\nmodule.exports = new Http();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/http.js\n ** module id = 2\n ** module chunks = 0\n **/","var animation = require(\"./animation.js\");\n\nfunction ModalsHelper() {}\n\nModalsHelper.prototype.showInfo = function(html, delay) {\n\tshowModal(html, delay, \"info\");\n};\n\nModalsHelper.prototype.showError = function(html, delay) {\n\tshowModal(html, delay, \"error\");\n};\n\nfunction showModal(html, delay, clazz) {\n\tdelay = delay || 4000;\n\n\tvar modal = document.createElement(\"div\");\n\n\tmodal.classList.add(clazz);\n\tmodal.innerHTML = html;\n\n\tdocument.body.appendChild(modal);\n\n\tanimation.fadeIn(modal, 150);\n\n\tsetTimeout(function() {\n\t\tanimation.fadeOut(modal, 150);\n\t\tdocument.body.removeChild(modal);\n\t}, delay);\n}\n\nmodule.exports = new ModalsHelper();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/modals.js\n ** module id = 3\n ** module chunks = 0\n **/","function Animation() {\n\tthis.fps = 50;\n}\n\nAnimation.prototype.init = function(options){\n\tif (!options) {\n\t\treturn;\n\t}\n\n\tthis.fps = options.fps || 50;\n};\n\nAnimation.prototype.slider = function(container, frameDuration, fadeDuration) {\n\tvar self = this;\n\tvar images = container.getElementsByTagName(\"img\");\n\tvar idx;\n\n\tfor (idx = 0; idx < images.length; idx++) {\n\t\timages[idx].style.opacity = 0;\n\t}\n\n\tidx = 0;\n\timages[idx].style.opacity = 1;\n\n\tsetInterval(function() {\n\t\tself.fadeOut(images[idx], fadeDuration);\n\t\tidx = ++idx % images.length;\n\t\tself.fadeIn(images[idx], fadeDuration);\n\t}, frameDuration);\n};\n\nAnimation.prototype.fadeIn = function(elem, duration) {\n\tif (supportsTransitions()) {\n\t\telem.style.opacity = 1;\n\t\telem.style.transition = 'opacity ' + duration / 1000 + 's linear';\n\t\twindow.getComputedStyle(elem);\n\t\treturn;\n\t}\n\n\tif (!!window.jQuery) {\n\t\t$(elem).fadeIn(duration);\n\t\treturn;\n\t}\n\n\tvar timePassed = 0;\n\tvar timeStep = 1000 / this.fps;\n\tvar step = timeStep / duration;\n\tvar opacity = 0;\n\n\telem.style.opacity = 0;\n\n\tvar interval = setInterval(function() {\n\t\ttimePassed += timeStep;\n\n\t\t// XXX: wtf js: doesn't work without counter\n\t\topacity += step;\n\t\telem.style.opacity = opacity;\n\t\telem.style.opacity = Math.min(elem.style.opacity, 1);\n\n\t\tif (timePassed >= duration) {\n\t\t\tclearInterval(interval);\n\t\t}\n\t}, timeStep);\n};\n\nAnimation.prototype.fadeOut = function(elem, duration) {\n\tif (supportsTransitions()) {\n\t\telem.style.opacity = 0;\n\t\telem.style.transition = 'opacity ' + duration / 1000 + 's linear';\n\t\twindow.getComputedStyle(elem);\n\t\treturn;\n\t}\n\n\tif (!!window.jQuery) {\n\t\t$(elem).fadeOut(duration);\n\t\treturn;\n\t}\n\n\tvar timePassed = 0;\n\tvar timeStep = 1000 / this.fps;\n\tvar step = timeStep / duration;\n\n\telem.style.opacity = 1;\n\n\tvar interval = setInterval(function() {\n\t\ttimePassed += timeStep;\n\n\t\telem.style.opacity -= step;\n\t\telem.style.opacity = Math.max(elem.style.opacity, 0);\n\n\t\tif (timePassed >= duration) {\n\t\t\tclearInterval(interval);\n\t\t}\n\t}, timeStep);\n};\n\nfunction supportsTransitions() {\n    var b = document.body || document.documentElement,\n        s = b.style,\n        p = 'transition';\n\n    if (typeof s[p] == 'string') { return true; }\n\n    // Tests for vendor specific prop\n    var v = ['Moz', 'webkit', 'Webkit', 'Khtml', 'O', 'ms'];\n    p = p.charAt(0).toUpperCase() + p.substr(1);\n\n    for (var i=0; i<v.length; i++) {\n        if (typeof s[v[i] + p] == 'string') { return true; }\n    }\n\n    return false;\n}\n\nmodule.exports = new Animation();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/animation.js\n ** module id = 4\n ** module chunks = 0\n **/","var http = require(\"./http.js\");\n\nfunction Authorization() {}\n\nAuthorization.prototype.signIn = function(username, password) {\n\tvar requestBody = \"username=\" + username + \"&password=\" + password;\n\tvar headers = {\"Content-Type\": \"application/x-www-form-urlencoded\"};\n\t\n\treturn http.post(\"/signin\", requestBody, headers).then(function() {\n\t\tsessionStorage.setItem(\"username\", username);\n\t});\n};\n\nAuthorization.prototype.signUp = function(username, password) {\n\tvar headers = {\"Content-Type\": \"application/x-www-form-urlencoded\"};\n\tvar requestBody = \"username=\" + username + \"&password=\" + password;\n\trequestBody = encodeURI(requestBody);\n\n\treturn http.post(\"/signup\", requestBody, headers).then(function() {\n\t\thttp.post(\"/signin\", requestBody, headers);\n\t}).then(function() {\n\t\tsessionStorage.setItem(\"username\", username);\n\t});\n};\n\nAuthorization.prototype.signOut = function() {\n\tvar self = this;\n\t\n\treturn http.get(\"/signout\").then(function() {\n\t\tsessionStorage.removeItem(\"username\");\n\t});\n};\n\nAuthorization.prototype.getUsername = function() {\n\treturn sessionStorage.getItem(\"username\");\n};\n\nmodule.exports = new Authorization();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/authorization.js\n ** module id = 5\n ** module chunks = 0\n **/","var auth = require(\"./authorization.js\");\n\nfunction MenusHelper() {\n\tthis.album = new AlbumMenuHelper();\n\tthis.authorization = new AuthorizationMenuHelper();\n}\n\nfunction AlbumMenuHelper() {\n\tthis.menuContainer = document.getElementById(\"album-nav\");\n}\n\nAlbumMenuHelper.prototype.menu = function() {\n\tthis.ul = document.createElement(\"ul\");\n\n\tthis.ul.setAttribute(\"id\", \"album-menu\");\n\t\n\treturn this;\n};\n\nAlbumMenuHelper.prototype.user = function() {\n\tif (auth.getUsername()) {\n\t\tthis.ul.innerHTML += \n\t\t\"<li><a href=\\\"#/profile\\\">\" + auth.getUsername() + \"</a></li>\";\n\t}\n\t\n\treturn this;\n};\n\nAlbumMenuHelper.prototype.upload = function() {\n\tif (auth.getUsername()) {\n\t\tthis.ul.innerHTML += \"<li><a href=\\\"#/upload\\\">Upload</a></li>\";\n\t}\n\n\treturn this;\n};\n\nAlbumMenuHelper.prototype.sort = function() {\n\tthis.ul.innerHTML += \"<li><a href=\\\"#\\\">Sort</a>\" +\n\t\t\t\t\t\t\"<ul id=\\\"sort-submenu\\\">\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"title\\\" \" + \n\t\t\t\t\t\t\t\"data-sort-dir=\\\"asc\\\">title asc</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"title\\\" \" +\n\t\t\t\t\t\t\t\"data-sort-dir=\\\"desc\\\">title desc</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-sort-dir=\\\"asc\\\">date added asc</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-sort-dir=\\\"desc\\\">date added desc</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"likesCount\\\" \" + \n\t\t\t\t\t\t\t\"data-sort-dir=\\\"asc\\\">likes asc</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-sort-key=\\\"likesCount\\\" \" + \n\t\t\t\t\t\t\t\"data-sort-dir=\\\"desc\\\">likes desc</a></li>\" +\n\t\t\t\t\t\t\"</ul>\" +\n\t\t\t\t\t\"</li>\";\n\n\treturn this;\n};\n\nAlbumMenuHelper.prototype.filter = function() {\n\tthis.ul.innerHTML += \"<li><a href=\\\"#\\\">Filter</a>\" +\n\t\t\t\t\t\t\"<ul id=\\\"filter-submenu\\\">\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-filter-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-filter-comparison=\\\"gt\\\" data-filter-value=\\\"\" +\n\t\t\t\t\t\t\tmoment().startOf(\"day\").valueOf() + \"\\\">today</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-filter-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-filter-comparison=\\\"gt\\\" data-filter-value=\\\"\" +\n\t\t\t\t\t\t\tmoment().startOf(\"day\").subtract(1, \"days\").valueOf() +\n\t\t\t\t\t\t\t \"\\\">yesterday</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-filter-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-filter-comparison=\\\"gt\\\" data-filter-value=\\\"\" +\n\t\t\t\t\t\t\tmoment().startOf(\"week\").valueOf() + \"\\\">this week</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-filter-key=\\\"addedOn\\\" \" + \n\t\t\t\t\t\t\t\"data-filter-comparison=\\\"gt\\\" data-filter-value=\\\"\" +\n\t\t\t\t\t\t\tmoment().startOf(\"month\").valueOf() + \"\\\">this month</a></li>\" +\n\t\t\t\t\t\t\t\"<li><a href=\\\"#\\\" data-filter-key=\\\"addedOn\\\">all time</a></li>\" +\n\t\t\t\t\t\t\"</ul>\" +\n\t\t\t\t\t\"</li>\";\n\treturn this;\n};\n\nAlbumMenuHelper.prototype.update = function() {\n\tvar container = this.menuContainer;\n\tvar oldUl = document.getElementById(\"album-menu\");\n\t\n\toldUl.parentNode.replaceChild(this.ul, oldUl);\n};\n\n\nfunction AuthorizationMenuHelper() {\n\tthis.menuContainer = document.getElementById(\"main-nav\");\n}\n\nAuthorizationMenuHelper.prototype.menu = function() {\n\tthis.ul = document.createElement(\"ul\");\n\tthis.ul.setAttribute(\"id\", \"authorization-menu\");\n\t\n\treturn this;\n};\n\nAuthorizationMenuHelper.prototype.signUp = function() {\n\tthis.ul.innerHTML += \"<li><a href=\\\"#/signup\\\">Sign Up</a></li>\";\n\t\n\treturn this;\n};\n\nAuthorizationMenuHelper.prototype.signIn = function() {\n\tthis.ul.innerHTML += \"<li><a href=\\\"#/signin\\\">Sign In</a></li>\";\n\t\n\treturn this;\n};\n\nAuthorizationMenuHelper.prototype.signOut = function() {\n\tthis.ul.innerHTML += \"<li><a href=\\\"#/signout\\\">Sign Out</a></li>\";\n\t\n\treturn this;\n};\n\nAuthorizationMenuHelper.prototype.update = function() {\n\tvar container = this.menuContainer;\n\tvar oldUl = container.getElementById(\"authorization-menu\");\n\t\n\tcontainer.replaceChild(this.ul, oldUl);\n};\n\nAuthorizationMenuHelper.prototype.autoupdate = function() {\n\tvar container = this.menuContainer;\n\tvar oldUl = document.getElementById(\"authorization-menu\");\n\t\n\tif (auth.getUsername()) {\n\t\tthis.signOut();\n\t} else {\n\t\tthis.signUp();\n\t\tthis.signIn();\n\t}\n\t\n\toldUl.parentNode.replaceChild(this.ul, oldUl);\n};\n\nmodule.exports = new MenusHelper();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/menushelper.js\n ** module id = 6\n ** module chunks = 0\n **/","var meld = require(\"./lib/meld.js\");\n\nfunction IEHelper() {}\n\nIEHelper.prototype.init = function() {\n\tif (!jQuery) {\n\t\tthrow new Error(\"jQuery not found for IEHelper\");\n\t}\n\n\tif (!meld) {\n\t\tthrow new Error(\"Meld not found for IEHelper\");\n\t}\n\n\tTransparency.render = meld.around(Transparency.render, function() {\n\t\tvar joinpoint = meld.joinpoint();\n\n\t\tvar template = $(joinpoint.args[0]);\n\t\tvar data = joinpoint.args[1];\n\t\tvar directives = joinpoint.args[2];\n\n\t\tvar photoItem = template.find(\".photo-item\");\n\n\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\ttemplate.append(photoItem);\n\t\t\tie8updateStyles(photoItem.get(0));\n\t\t\t// joinpoint.proceed(photoItem.get(0), data[i]['photo-item'], directives['photo-item']);\n\t\t\tphotoItem = $(ie8deepCloneNode(photoItem.get(0)));\n\t\t}\n\n\t\tdocument.body.className = document.body.className;\n\t});\n};\n\nfunction ie8deepCloneNode(node) {\n\tif (node.nodeType == 3) {\n\t\treturn document.createTextNode(node.nodeValue);\n\t}\n\n\tvar clone = node.cloneNode(false);\n\tvar children = node.childNodes;\n\n\tfor (var i = 0; i < children.length; i++) {\n\t\tclone.appendChild(ie8deepCloneNode(children[i]));\n\t}\n\n\tclone.className = node.className;\n\tie8updateStyles(clone);\n\n\treturn clone;\n}\n\nfunction ie8updateStyles(node) {\n\tif (node.nodeType == 3) {\n\t\treturn;\n\t}\n\n\tvar disp = node.style.display;\n\tnode.style.display = \"none\";\n\tvar redrawFix = node.offsetHeight;\n\tnode.style.display = disp;\n\n\tvar children = node.childNodes;\n\n\tfor (var i = 0; i < children.length; i++) {\n\t\tie8updateStyles(children[i]);\n\t}\n}\n\nmodule.exports = new IEHelper();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/iehelper.js\n ** module id = 7\n ** module chunks = 0\n **/","/** @license MIT License (c) copyright 2011-2013 original author or authors */\n\n/**\n * meld\n * Aspect Oriented Programming for Javascript\n *\n * meld is part of the cujo.js family of libraries (http://cujojs.com/)\n *\n * Licensed under the MIT License at:\n * http://www.opensource.org/licenses/mit-license.php\n *\n * @author Brian Cavalier\n * @author John Hann\n * @version 1.3.1\n */\n(function (define) {\ndefine(function () {\n\n\t//\n\t// Public API\n\t//\n\n\t// Add a single, specific type of advice\n\t// returns a function that will remove the newly-added advice\n\tmeld.before =         adviceApi('before');\n\tmeld.around =         adviceApi('around');\n\tmeld.on =             adviceApi('on');\n\tmeld.afterReturning = adviceApi('afterReturning');\n\tmeld.afterThrowing =  adviceApi('afterThrowing');\n\tmeld.after =          adviceApi('after');\n\n\t// Access to the current joinpoint in advices\n\tmeld.joinpoint =      joinpoint;\n\n\t// DEPRECATED: meld.add(). Use meld() instead\n\t// Returns a function that will remove the newly-added aspect\n\tmeld.add =            function() { return meld.apply(null, arguments); };\n\n\t/**\n\t * Add an aspect to all matching methods of target, or to target itself if\n\t * target is a function and no pointcut is provided.\n\t * @param {object|function} target\n\t * @param {string|array|RegExp|function} [pointcut]\n\t * @param {object} aspect\n\t * @param {function?} aspect.before\n\t * @param {function?} aspect.on\n\t * @param {function?} aspect.around\n\t * @param {function?} aspect.afterReturning\n\t * @param {function?} aspect.afterThrowing\n\t * @param {function?} aspect.after\n\t * @returns {{ remove: function }|function} if target is an object, returns a\n\t *  remover { remove: function } whose remove method will remove the added\n\t *  aspect. If target is a function, returns the newly advised function.\n\t */\n\tfunction meld(target, pointcut, aspect) {\n\t\tvar pointcutType, remove;\n\n\t\tif(arguments.length < 3) {\n\t\t\treturn addAspectToFunction(target, pointcut);\n\t\t} else {\n\t\t\tif (isArray(pointcut)) {\n\t\t\t\tremove = addAspectToAll(target, pointcut, aspect);\n\t\t\t} else {\n\t\t\t\tpointcutType = typeof pointcut;\n\n\t\t\t\tif (pointcutType === 'string') {\n\t\t\t\t\tif (typeof target[pointcut] === 'function') {\n\t\t\t\t\t\tremove = addAspectToMethod(target, pointcut, aspect);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (pointcutType === 'function') {\n\t\t\t\t\tremove = addAspectToAll(target, pointcut(target), aspect);\n\n\t\t\t\t} else {\n\t\t\t\t\tremove = addAspectToMatches(target, pointcut, aspect);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn remove;\n\t\t}\n\n\t}\n\n\tfunction Advisor(target, func) {\n\n\t\tvar orig, advisor, advised;\n\n\t\tthis.target = target;\n\t\tthis.func = func;\n\t\tthis.aspects = {};\n\n\t\torig = this.orig = target[func];\n\t\tadvisor = this;\n\n\t\tadvised = this.advised = function() {\n\t\t\tvar context, joinpoint, args, callOrig, afterType;\n\n\t\t\t// If called as a constructor (i.e. using \"new\"), create a context\n\t\t\t// of the correct type, so that all advice types (including before!)\n\t\t\t// are called with the correct context.\n\t\t\tif(this instanceof advised) {\n\t\t\t\t// shamelessly derived from https://github.com/cujojs/wire/blob/c7c55fe50238ecb4afbb35f902058ab6b32beb8f/lib/component.js#L25\n\t\t\t\tcontext = objectCreate(orig.prototype);\n\t\t\t\tcallOrig = function (args) {\n\t\t\t\t\treturn applyConstructor(orig, context, args);\n\t\t\t\t};\n\n\t\t\t} else {\n\t\t\t\tcontext = this;\n\t\t\t\tcallOrig = function(args) {\n\t\t\t\t\treturn orig.apply(context, args);\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\targs = slice.call(arguments);\n\t\t\tafterType = 'afterReturning';\n\n\t\t\t// Save the previous joinpoint and set the current joinpoint\n\t\t\tjoinpoint = pushJoinpoint({\n\t\t\t\ttarget: context,\n\t\t\t\tmethod: func,\n\t\t\t\targs: args\n\t\t\t});\n\n\t\t\ttry {\n\t\t\t\tadvisor._callSimpleAdvice('before', context, args);\n\n\t\t\t\ttry {\n\t\t\t\t\tjoinpoint.result = advisor._callAroundAdvice(context, func, args, callOrigAndOn);\n\t\t\t\t} catch(e) {\n\t\t\t\t\tjoinpoint.result = joinpoint.exception = e;\n\t\t\t\t\t// Switch to afterThrowing\n\t\t\t\t\tafterType = 'afterThrowing';\n\t\t\t\t}\n\n\t\t\t\targs = [joinpoint.result];\n\n\t\t\t\tcallAfter(afterType, args);\n\t\t\t\tcallAfter('after', args);\n\n\t\t\t\tif(joinpoint.exception) {\n\t\t\t\t\tthrow joinpoint.exception;\n\t\t\t\t}\n\n\t\t\t\treturn joinpoint.result;\n\n\t\t\t} finally {\n\t\t\t\t// Restore the previous joinpoint, if necessary.\n\t\t\t\tpopJoinpoint();\n\t\t\t}\n\n\t\t\tfunction callOrigAndOn(args) {\n\t\t\t\tvar result = callOrig(args);\n\t\t\t\tadvisor._callSimpleAdvice('on', context, args);\n\n\t\t\t\treturn result;\n\t\t\t}\n\n\t\t\tfunction callAfter(afterType, args) {\n\t\t\t\tadvisor._callSimpleAdvice(afterType, context, args);\n\t\t\t}\n\t\t};\n\n\t\tdefineProperty(advised, '_advisor', { value: advisor, configurable: true });\n\t}\n\n\tAdvisor.prototype = {\n\n\t\t/**\n\t\t * Invoke all advice functions in the supplied context, with the supplied args\n\t\t *\n\t\t * @param adviceType\n\t\t * @param context\n\t\t * @param args\n\t\t */\n\t\t_callSimpleAdvice: function(adviceType, context, args) {\n\n\t\t\t// before advice runs LIFO, from most-recently added to least-recently added.\n\t\t\t// All other advice is FIFO\n\t\t\tvar iterator, advices;\n\n\t\t\tadvices = this.aspects[adviceType];\n\t\t\tif(!advices) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\titerator = iterators[adviceType];\n\n\t\t\titerator(this.aspects[adviceType], function(aspect) {\n\t\t\t\tvar advice = aspect.advice;\n\t\t\t\tadvice && advice.apply(context, args);\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Invoke all around advice and then the original method\n\t\t *\n\t\t * @param context\n\t\t * @param method\n\t\t * @param args\n\t\t * @param applyOriginal\n\t\t */\n\t\t_callAroundAdvice: function (context, method, args, applyOriginal) {\n\t\t\tvar len, aspects;\n\n\t\t\taspects = this.aspects.around;\n\t\t\tlen = aspects ? aspects.length : 0;\n\n\t\t\t/**\n\t\t\t * Call the next function in the around chain, which will either be another around\n\t\t\t * advice, or the orig method.\n\t\t\t * @param i {Number} index of the around advice\n\t\t\t * @param args {Array} arguments with with to call the next around advice\n\t\t\t */\n\t\t\tfunction callNext(i, args) {\n\t\t\t\t// If we exhausted all aspects, finally call the original\n\t\t\t\t// Otherwise, if we found another around, call it\n\t\t\t\treturn i < 0\n\t\t\t\t\t? applyOriginal(args)\n\t\t\t\t\t: callAround(aspects[i].advice, i, args);\n\t\t\t}\n\n\t\t\tfunction callAround(around, i, args) {\n\t\t\t\tvar proceedCalled, joinpoint;\n\n\t\t\t\tproceedCalled = 0;\n\n\t\t\t\t// Joinpoint is immutable\n\t\t\t\t// TODO: Use Object.freeze once v8 perf problem is fixed\n\t\t\t\tjoinpoint = pushJoinpoint({\n\t\t\t\t\ttarget: context,\n\t\t\t\t\tmethod: method,\n\t\t\t\t\targs: args,\n\t\t\t\t\tproceed: proceedCall,\n\t\t\t\t\tproceedApply: proceedApply,\n\t\t\t\t\tproceedCount: proceedCount\n\t\t\t\t});\n\n\t\t\t\ttry {\n\t\t\t\t\t// Call supplied around advice function\n\t\t\t\t\treturn around.call(context, joinpoint);\n\t\t\t\t} finally {\n\t\t\t\t\tpopJoinpoint();\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * The number of times proceed() has been called\n\t\t\t\t * @return {Number}\n\t\t\t\t */\n\t\t\t\tfunction proceedCount() {\n\t\t\t\t\treturn proceedCalled;\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Proceed to the original method/function or the next around\n\t\t\t\t * advice using original arguments or new argument list if\n\t\t\t\t * arguments.length > 0\n\t\t\t\t * @return {*} result of original method/function or next around advice\n\t\t\t\t */\n\t\t\t\tfunction proceedCall(/* newArg1, newArg2... */) {\n\t\t\t\t\treturn proceed(arguments.length > 0 ? slice.call(arguments) : args);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Proceed to the original method/function or the next around\n\t\t\t\t * advice using original arguments or new argument list if\n\t\t\t\t * newArgs is supplied\n\t\t\t\t * @param [newArgs] {Array} new arguments with which to proceed\n\t\t\t\t * @return {*} result of original method/function or next around advice\n\t\t\t\t */\n\t\t\t\tfunction proceedApply(newArgs) {\n\t\t\t\t\treturn proceed(newArgs || args);\n\t\t\t\t}\n\n\t\t\t\t/**\n\t\t\t\t * Create proceed function that calls the next around advice, or\n\t\t\t\t * the original.  May be called multiple times, for example, in retry\n\t\t\t\t * scenarios\n\t\t\t\t * @param [args] {Array} optional arguments to use instead of the\n\t\t\t\t * original arguments\n\t\t\t\t */\n\t\t\t\tfunction proceed(args) {\n\t\t\t\t\tproceedCalled++;\n\t\t\t\t\treturn callNext(i - 1, args);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn callNext(len - 1, args);\n\t\t},\n\n\t\t/**\n\t\t * Adds the supplied aspect to the advised target method\n\t\t *\n\t\t * @param aspect\n\t\t */\n\t\tadd: function(aspect) {\n\n\t\t\tvar advisor, aspects;\n\n\t\t\tadvisor = this;\n\t\t\taspects = advisor.aspects;\n\n\t\t\tinsertAspect(aspects, aspect);\n\n\t\t\treturn {\n\t\t\t\tremove: function () {\n\t\t\t\t\tvar remaining = removeAspect(aspects, aspect);\n\n\t\t\t\t\t// If there are no aspects left, restore the original method\n\t\t\t\t\tif (!remaining) {\n\t\t\t\t\t\tadvisor.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Removes the Advisor and thus, all aspects from the advised target method, and\n\t\t * restores the original target method, copying back all properties that may have\n\t\t * been added or updated on the advised function.\n\t\t */\n\t\tremove: function () {\n\t\t\tdelete this.advised._advisor;\n\t\t\tthis.target[this.func] = this.orig;\n\t\t}\n\t};\n\n\t/**\n\t * Returns the advisor for the target object-function pair.  A new advisor\n\t * will be created if one does not already exist.\n\t * @param target {*} target containing a method with the supplied methodName\n\t * @param methodName {String} name of method on target for which to get an advisor\n\t * @return {Object|undefined} existing or newly created advisor for the supplied method\n\t */\n\tAdvisor.get = function(target, methodName) {\n\t\tif(!(methodName in target)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar advisor, advised;\n\n\t\tadvised = target[methodName];\n\n\t\tif(typeof advised !== 'function') {\n\t\t\tthrow new Error('Advice can only be applied to functions: ' + methodName);\n\t\t}\n\n\t\tadvisor = advised._advisor;\n\t\tif(!advisor) {\n\t\t\tadvisor = new Advisor(target, methodName);\n\t\t\ttarget[methodName] = advisor.advised;\n\t\t}\n\n\t\treturn advisor;\n\t};\n\n\t/**\n\t * Add an aspect to a pure function, returning an advised version of it.\n\t * NOTE: *only the returned function* is advised.  The original (input) function\n\t * is not modified in any way.\n\t * @param func {Function} function to advise\n\t * @param aspect {Object} aspect to add\n\t * @return {Function} advised function\n\t */\n\tfunction addAspectToFunction(func, aspect) {\n\t\tvar name, placeholderTarget;\n\n\t\tname = func.name || '_';\n\n\t\tplaceholderTarget = {};\n\t\tplaceholderTarget[name] = func;\n\n\t\taddAspectToMethod(placeholderTarget, name, aspect);\n\n\t\treturn placeholderTarget[name];\n\n\t}\n\n\tfunction addAspectToMethod(target, method, aspect) {\n\t\tvar advisor = Advisor.get(target, method);\n\n\t\treturn advisor && advisor.add(aspect);\n\t}\n\n\tfunction addAspectToAll(target, methodArray, aspect) {\n\t\tvar removers, added, f, i;\n\n\t\tremovers = [];\n\t\ti = 0;\n\n\t\twhile((f = methodArray[i++])) {\n\t\t\tadded = addAspectToMethod(target, f, aspect);\n\t\t\tadded && removers.push(added);\n\t\t}\n\n\t\treturn createRemover(removers);\n\t}\n\n\tfunction addAspectToMatches(target, pointcut, aspect) {\n\t\tvar removers = [];\n\t\t// Assume the pointcut is a an object with a .test() method\n\t\tfor (var p in target) {\n\t\t\t// TODO: Decide whether hasOwnProperty is correct here\n\t\t\t// Only apply to own properties that are functions, and match the pointcut regexp\n\t\t\tif (typeof target[p] == 'function' && pointcut.test(p)) {\n\t\t\t\t// if(object.hasOwnProperty(p) && typeof object[p] === 'function' && pointcut.test(p)) {\n\t\t\t\tremovers.push(addAspectToMethod(target, p, aspect));\n\t\t\t}\n\t\t}\n\n\t\treturn createRemover(removers);\n\t}\n\n\tfunction createRemover(removers) {\n\t\treturn {\n\t\t\tremove: function() {\n\t\t\t\tfor (var i = removers.length - 1; i >= 0; --i) {\n\t\t\t\t\tremovers[i].remove();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n\n\t// Create an API function for the specified advice type\n\tfunction adviceApi(type) {\n\t\treturn function(target, method, adviceFunc) {\n\t\t\tvar aspect = {};\n\n\t\t\tif(arguments.length === 2) {\n\t\t\t\taspect[type] = method;\n\t\t\t\treturn meld(target, aspect);\n\t\t\t} else {\n\t\t\t\taspect[type] = adviceFunc;\n\t\t\t\treturn meld(target, method, aspect);\n\t\t\t}\n\t\t};\n\t}\n\n\t/**\n\t * Insert the supplied aspect into aspectList\n\t * @param aspectList {Object} list of aspects, categorized by advice type\n\t * @param aspect {Object} aspect containing one or more supported advice types\n\t */\n\tfunction insertAspect(aspectList, aspect) {\n\t\tvar adviceType, advice, advices;\n\n\t\tfor(adviceType in iterators) {\n\t\t\tadvice = aspect[adviceType];\n\n\t\t\tif(advice) {\n\t\t\t\tadvices = aspectList[adviceType];\n\t\t\t\tif(!advices) {\n\t\t\t\t\taspectList[adviceType] = advices = [];\n\t\t\t\t}\n\n\t\t\t\tadvices.push({\n\t\t\t\t\taspect: aspect,\n\t\t\t\t\tadvice: advice\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Remove the supplied aspect from aspectList\n\t * @param aspectList {Object} list of aspects, categorized by advice type\n\t * @param aspect {Object} aspect containing one or more supported advice types\n\t * @return {Number} Number of *advices* left on the advised function.  If\n\t *  this returns zero, then it is safe to remove the advisor completely.\n\t */\n\tfunction removeAspect(aspectList, aspect) {\n\t\tvar adviceType, advices, remaining;\n\n\t\tremaining = 0;\n\n\t\tfor(adviceType in iterators) {\n\t\t\tadvices = aspectList[adviceType];\n\t\t\tif(advices) {\n\t\t\t\tremaining += advices.length;\n\n\t\t\t\tfor (var i = advices.length - 1; i >= 0; --i) {\n\t\t\t\t\tif (advices[i].aspect === aspect) {\n\t\t\t\t\t\tadvices.splice(i, 1);\n\t\t\t\t\t\t--remaining;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn remaining;\n\t}\n\n\tfunction applyConstructor(C, instance, args) {\n\t\ttry {\n\t\t\t// Try to define a constructor, but don't care if it fails\n\t\t\tdefineProperty(instance, 'constructor', {\n\t\t\t\tvalue: C,\n\t\t\t\tenumerable: false\n\t\t\t});\n\t\t} catch(e) {\n\t\t\t// ignore\n\t\t}\n\n\t\tC.apply(instance, args);\n\n\t\treturn instance;\n\t}\n\n\tvar currentJoinpoint, joinpointStack,\n\t\tap, prepend, append, iterators, slice, isArray, defineProperty, objectCreate;\n\n\t// TOOD: Freeze joinpoints when v8 perf problems are resolved\n//\tfreeze = Object.freeze || function (o) { return o; };\n\n\tjoinpointStack = [];\n\n\tap      = Array.prototype;\n\tprepend = ap.unshift;\n\tappend  = ap.push;\n\tslice   = ap.slice;\n\n\tisArray = Array.isArray || function(it) {\n\t\treturn Object.prototype.toString.call(it) == '[object Array]';\n\t};\n\n\t// Check for a *working* Object.defineProperty, fallback to\n\t// simple assignment.\n\tdefineProperty = definePropertyWorks()\n\t\t? Object.defineProperty\n\t\t: function(obj, prop, descriptor) {\n\t\tobj[prop] = descriptor.value;\n\t};\n\n\tobjectCreate = Object.create ||\n\t\t(function() {\n\t\t\tfunction F() {}\n\t\t\treturn function(proto) {\n\t\t\t\tF.prototype = proto;\n\t\t\t\tvar instance = new F();\n\t\t\t\tF.prototype = null;\n\t\t\t\treturn instance;\n\t\t\t};\n\t\t}());\n\n\titerators = {\n\t\t// Before uses reverse iteration\n\t\tbefore: forEachReverse,\n\t\taround: false\n\t};\n\n\t// All other advice types use forward iteration\n\t// Around is a special case that uses recursion rather than\n\t// iteration.  See Advisor._callAroundAdvice\n\titerators.on\n\t\t= iterators.afterReturning\n\t\t= iterators.afterThrowing\n\t\t= iterators.after\n\t\t= forEach;\n\n\tfunction forEach(array, func) {\n\t\tfor (var i = 0, len = array.length; i < len; i++) {\n\t\t\tfunc(array[i]);\n\t\t}\n\t}\n\n\tfunction forEachReverse(array, func) {\n\t\tfor (var i = array.length - 1; i >= 0; --i) {\n\t\t\tfunc(array[i]);\n\t\t}\n\t}\n\n\tfunction joinpoint() {\n\t\treturn currentJoinpoint;\n\t}\n\n\tfunction pushJoinpoint(newJoinpoint) {\n\t\tjoinpointStack.push(currentJoinpoint);\n\t\treturn currentJoinpoint = newJoinpoint;\n\t}\n\n\tfunction popJoinpoint() {\n\t\treturn currentJoinpoint = joinpointStack.pop();\n\t}\n\n\tfunction definePropertyWorks() {\n\t\ttry {\n\t\t\treturn 'x' in Object.defineProperty({}, 'x', {});\n\t\t} catch (e) { /* return falsey */ }\n\t}\n\n\treturn meld;\n\n});\n})(typeof define == 'function' && define.amd ? define : function (factory) { module.exports = factory(); }\n);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/lib/meld.js\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = function() { throw new Error(\"define cannot be used indirect\"); };\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/amd-define.js\n ** module id = 9\n ** module chunks = 0\n **/","var map = {\n\t\"./aboutcontroller.js\": 11,\n\t\"./contactcontroller.js\": 13,\n\t\"./photocontroller.js\": 15,\n\t\"./photoslistcontroller.js\": 17,\n\t\"./searchcontroller.js\": 20,\n\t\"./signincontroller.js\": 22,\n\t\"./signoutcontroller.js\": 24,\n\t\"./signupcontroller.js\": 25,\n\t\"./uploadcontroller.js\": 27\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 10;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers ^\\.\\/.*controller\\.js$\n ** module id = 10\n ** module chunks = 0\n **/","var aboutView = require(\"../views/aboutview.js\");\n\nfunction start() {\n\taboutView.render();\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/aboutcontroller.js\n ** module id = 11\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"about\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/aboutview.js\n ** module id = 12\n ** module chunks = 0\n **/","var contactView = require(\"../views/contactview.js\");\n\nfunction start() {\n\tcontactView.render();\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/contactcontroller.js\n ** module id = 13\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"contact\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/contactview.js\n ** module id = 14\n ** module chunks = 0\n **/","var photoView = require(\"../views/photoview.js\");\nvar auth = require(\"../authorization.js\");\nvar http = require(\"../http.js\");\n\nfunction start(photoId) {\n\tvar url = \"/photos/\" + photoId;\n\tvar context = {};\n\n\tvar content = document.getElementById(\"content\");\n\tvar parent = content.parentNode;\n\n\tcontext.oldContent = parent.removeChild(content);\n\n\tparent.appendChild(content.cloneNode(false));\n\n\thttp.get(url).then(function(result) {\n\t\tphotoView.render(result).then(function(result) {\n\t\t\tbindEvents(context);\n\t\t});\n\t});\n}\n\nfunction bindEvents(context) {\n\tvar photoPage = document.getElementById(\"photo-page\");\n\n\tphotoPage.addEventListener(\n\t\t\"click\", handlePhotoPageClick.bind(undefined, context), true);\n}\n\nfunction handlePhotoPageClick(context, evt) {\n\tvar elem = evt.target;\n\tvar content = document.getElementById(\"content\");\n\n\tif (elem.id == \"go-back\") {\n\t\tevt.preventDefault();\n\t\tcontent.parentNode.replaceChild(context.oldContent, content);\n\t}\n\n\tif (elem.classList.contains(\"likes\")) {\n\t\tevt.preventDefault();\n\t\thttp.get(\"/like?photoId=\" + elem.dataset.photoId)\n\t\t.then(function(result) {\n\t\t\telem.innerHTML = \"♥\" + result.likesCount;\n\n\t\t\t\t// also update likes on original photos list page\n\t\t\t\tvar i;\n\t\t\t\tvar photosListLikes =\n\t\t\t\tcontext.oldContent.getElementsByClassName(\"likes\");\n\n\t\t\t\tfor (i = 0; i < photosListLikes.length; i++) {\n\t\t\t\t\tif (photosListLikes[i].dataset.photoId ==\n\t\t\t\t\t\telem.dataset.photoId) {\n\t\t\t\t\t\tphotosListLikes[i].innerHTML = \"♥\" + result.likesCount;\n\t\t\t\t}\n\t\t\t}\n\t\t}, function(error) {});\n\t}\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/photocontroller.js\n ** module id = 15\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nvar directives = {\n\tphoto: {\n\t\tsrc: function() {\n\t\t\treturn this.filepath;\n\t\t}\n\t},\n\tauthor: {\n\t\ttext: function() {\n\t\t\treturn \"@\" + this.author;\n\t\t}\n\t},\n\ttitle: {\n\t\ttext: function() {\n\t\t\treturn this.title;\n\t\t}\n\t},\n\tlikes: {\n\t\ttext: function() {\n\t\t\treturn \"♥\" + this.likes;\n\t\t},\n\t\t\"data-photo-id\": function() {\n\t\t\treturn this.photoId;\n\t\t}\n\t},\n\t\"added-on\": {\n\t\ttext: function() {\n\t\t\treturn moment(this.addedOn).fromNow();\n\t\t}\n\t},\n\tdescription: {\n\t\ttext: function() {\n\t\t\treturn this.description;\n\t\t}\n\t}\n};\n\nfunction render(photoModel) {\n\treturn contentLoader.render(\"photo\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().update();\n\n\t\tvar template = document.getElementById(\"photo-page\");\n\t\tvar data = extractTransparencyData(photoModel);\n\n\t\tTransparency.render(template, data, directives);\n\t});\n}\n\nfunction extractTransparencyData(model) {\n\tvar photoItem = {};\n\n\tphotoItem.filepath = \"/\" + model.filepath;\n\tphotoItem.author = model.author.username;\n\tphotoItem.title = model.title;\n\tphotoItem.likes = model.likesCount;\n\tphotoItem.addedOn = new Date(model.addedOn);\n\tphotoItem.photoId = model.id;\n\tphotoItem.description = model.description;\n\t\n\treturn photoItem;\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/photoview.js\n ** module id = 16\n ** module chunks = 0\n **/","var photosListView = require(\"../views/photoslistview.js\");\nvar photoController = require(\"../controllers/photocontroller.js\");\nvar listenersRegistry = require(\"../listenersregistry.js\");\nvar auth = require(\"../authorization.js\");\nvar http = require(\"../http.js\");\n\nfunction start() {\n\tshowAllPhotos();\n}\n\nfunction showUsersPhotos() {\n\tvar query = {};\n\n\tquery.author = auth.getUsername();\n\tquery.sort = [{\n\t\tkey: \"addedOn\",\n\t\tdirection: \"desc\"\n\t}];\n\t\n\tfetchPhotos(query);\n}\n\nfunction showAllPhotos() {\n\tvar query = {};\n\n\tquery.sort = [{\n\t\tkey: \"addedOn\",\n\t\tdirection: \"desc\"\n\t}];\n\t\n\tfetchPhotos(query);\n}\n\nfunction fetchPhotos(query) {\n\tquery.page = query.page || 0;\n\tquery.size = query.size || 9;\n\n\tvar context = {};\n\tcontext.query = query;\n\n\tvar url = encodeURI(makeUrl(query));\n\t\n\thttp.get(url).then(function(result) {\n\t\tphotosListView.render(result).then(function() {\n\t\t\tbindEvents(context);\n\t\t});\n\t});\n}\n\nfunction makeUrl(query) {\n\tvar url = \"/photos?\";\n\tvar chunks = [];\n\tvar filterChunks = [];\n\n\tif (query.author || query.title || query.filter) {\n\t\tif (query.author) {\n\t\t\tchunks.push(\"author==\" + query.author);\n\t\t}\n\n\t\tif (query.title) {\n\t\t\tchunks.push(\"title==\" + query.title);\n\t\t}\n\n\t\tif (query.filter) {\n\t\t\tquery.filter.forEach(function(it) {\n\t\t\t\tif (it.key && it.comparison && it.value) {\n\t\t\t\t\tfilterChunks.push(\n\t\t\t\t\t\tit.key + \"=\" + it.comparison + \"=\" + it.value);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif (filterChunks.length) {\n\t\t\tchunks.push(filterChunks.join(\";\"));\n\t\t}\n\n\t\tif (chunks.length) {\n\t\t\turl += \"q=\";\n\t\t\turl += chunks.join(\";\");\n\t\t\turl += \"&\";\n\t\t}\n\t}\n\n\treturn url + makeRestParamsString(query);\n}\n\nfunction makeRestParamsString(query) {\n\tquery.page = query.page || 0;\n\tquery.size = query.size || 0;\n\n\tvar sortChunks = [];\n\tvar sortItem;\n\n\tif (query.sort) {\n\t\tquery.sort.forEach(function(it) {\n\t\t\tif (it.key && it.direction) {\n\t\t\t\tsortChunks.push(it.key + \",\" + it.direction);\n\t\t\t}\n\t\t});\n\t}\n\n\tvar str = \"\";\n\n\tstr += \"page=\" + query.page;\n\tstr += \"&size=\" + query.size;\n\tstr += (sortChunks.length) ? \"&sort=\" + sortChunks.join(\"&\") : \"\";\n\t\n\treturn str;\n}\n\nfunction bindEvents(context) {\n\tvar photosListWrapper = document.getElementById(\"photos-list-wrapper\");\n\tvar albumMenu = document.getElementById(\"album-menu\");\n\n\tphotosListWrapper.addEventListener(\n\t\t\"click\", handlePhotosListClick.bind(undefined, context), true);\n\n\talbumMenu.addEventListener(\n\t\t\"click\", handleAlbumMenuClick.bind(undefined, context), true);\n}\n\nfunction handlePhotosListClick(context, evt) {\n\tvar elem = evt.target;\n\tvar query;\n\n\tif (elem.id == \"go-prev\") {\n\t\tevt.preventDefault();\n\t\tquery = clone(context.query);\n\t\tquery.page--;\n\n\t\tfetchPhotos(query);\n\t}\n\n\tif (elem.id == \"go-next\") {\n\t\tevt.preventDefault();\n\t\tquery = clone(context.query);\n\t\tquery.page++;\n\n\t\tfetchPhotos(query);\n\t}\n\n\tif (elem.classList.contains(\"likes\")) {\n\t\tevt.preventDefault();\n\t\thttp.get(\"/like?photoId=\" + elem.dataset.photoId).then(function(result) {\n\t\t\telem.innerHTML = \"♥\" + result.likesCount;\n\t\t}, function(error) {});\n\t}\n\n\tif (elem.tagName == \"IMG\" && elem.classList.contains(\"photo\")) {\n\t\tphotoController.start(elem.dataset.photoId);\n\t}\n}\n\nfunction handleAlbumMenuClick(context, evt) {\n\tvar elem = evt.target;\n\tvar query;\n\n\tif (elem.tagName == \"A\") {\n\t\tif (elem.dataset.sortKey) {\n\t\t\tevt.preventDefault();\n\n\t\t\tquery = clone(context.query);\n\t\t\tquery.page = 0;\n\n\t\t\tvar sortOption = {};\n\t\t\tsortOption.key = elem.dataset.sortKey;\n\t\t\tsortOption.direction = elem.dataset.sortDir;\n\t\t\tquery.sort = [];\n\n\t\t\tquery.sort.push(sortOption);\n\n\t\t\tfetchPhotos(query);\n\t\t}\n\n\t\tif (elem.dataset.filterKey) {\n\t\t\tevt.preventDefault();\n\n\t\t\tquery = clone(context.query);\n\t\t\tquery.page = 0;\n\n\t\t\tvar filterOption = {};\n\t\t\tfilterOption.key = elem.dataset.filterKey;\n\t\t\tfilterOption.comparison = elem.dataset.filterComparison;\n\t\t\tfilterOption.value = elem.dataset.filterValue;\n\t\t\tquery.filter = [];\n\n\t\t\tif (filterOption.key) {\n\t\t\t\tquery.filter.push(filterOption);\n\t\t\t}\n\n\t\t\tfetchPhotos(query);\n\t\t}\n\t}\n}\n\nfunction clone(obj) {\n\treturn JSON.parse(JSON.stringify(obj));\n}\n\nmodule.exports = {\n\tstart: start,\n\tshowUsersPhotos: showUsersPhotos,\n\tshowAllPhotos: showAllPhotos,\n\tfetchPhotos: fetchPhotos\n};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/photoslistcontroller.js\n ** module id = 17\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nvar directives = {\n\t\"photo-item\" : {\n\t\tphoto: {\n\t\t\tsrc: function() {\n\t\t\t\treturn this.filepath;\n\t\t\t},\n\t\t\talt: function() {\n\t\t\t\treturn this.title;\n\t\t\t},\n\t\t\t\"data-photo-id\": function() {\n\t\t\t\treturn this.photoId;\n\t\t\t}\n\t\t},\n\t\tauthor: {\n\t\t\ttext: function() {\n\t\t\t\treturn \"@\" + this.author;\n\t\t\t}\n\t\t},\n\t\ttitle: {\n\t\t\ttext: function() {\n\t\t\t\treturn this.title;\n\t\t\t}\n\t\t},\n\t\tlikes: {\n\t\t\ttext: function() {\n\t\t\t\treturn \"♥\" + this.likes;\n\t\t\t},\n\t\t\t\"data-photo-id\": function() {\n\t\t\t\treturn this.photoId;\n\t\t\t}\n\t\t},\n\t\t\"added-on\": {\n\t\t\ttext: function() {\n\t\t\t\treturn moment(this.addedOn).fromNow();\n\t\t\t}\n\t\t}\n\t}\n};\n\nfunction render(photosListModel) {\n\treturn contentLoader.render(\"photoslist\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().sort().filter().update();\n\n\t\tvar template = document.getElementById(\"photos-list\");\n\t\tvar data = extractTransparencyData(photosListModel);\n\n\t\tTransparency.render(template, data, directives);\n\n\t\tvar pageControls = document.createElement(\"div\");\n\t\tpageControls.classList.add(\"page-controls\");\n\n\t\ttemplate.setAttribute(\"data-page-number\", photosListModel.number);\n\n\t\tif (!photosListModel.first) {\n\t\t\tcreatePagingButton(\"go-prev\", \"Previous\", pageControls);\n\t\t}\n\n\t\tif (!photosListModel.last) {\n\t\t\tcreatePagingButton(\"go-next\", \"Next\", pageControls);\n\t\t}\n\n\t\tif (pageControls.innerHTML) {\n\t\t\tdocument.getElementById(\"photos-list-wrapper\")\n\t\t\t.appendChild(pageControls);\n\t\t}\n\t});\n}\n\nfunction extractTransparencyData(model) {\n\tvar data = [];\n\t\n\tmodel.content.forEach(function(it, idx) {\n\t\tvar photoItem = {};\n\t\t\n\t\tphotoItem.filepath = \"/\" + it.filepath;\n\t\tphotoItem.author = it.author.username;\n\t\tphotoItem.title = it.title;\n\t\tphotoItem.likes = it.likesCount;\n\t\tphotoItem.addedOn = new Date(it.addedOn);\n\t\tphotoItem.photoId = it.id;\n\t\t\n\t\tdata[idx] = {\"photo-item\" : photoItem};\n\t});\n\t\n\treturn data;\n}\n\nfunction createPagingButton(id, caption, container) {\n\tvar btn = document.createElement(\"a\");\n\tbtn.setAttribute(\"id\", id);\n\tbtn.setAttribute(\"href\", \"#\");\n\tbtn.classList.add(\"pure-button\");\n\tbtn.classList.add(\"pure-button-primary\");\n\tbtn.innerHTML = caption;\n\n\tif (container.hasChildNodes()) {\n\t\tcontainer.appendChild(document.createTextNode(\" \"));\n\t}\n\t\n\tcontainer.appendChild(btn);\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/photoslistview.js\n ** module id = 18\n ** module chunks = 0\n **/","var meld = require(\"./lib/meld.js\");\n\nvar listenersRegistry = {};\n\nlistenersRegistry.registry = {};\n\nlistenersRegistry.init = function() {\n\tvar registry = this.registry;\n\n\tEventTarget.prototype.addEventListener =\n\tmeld.around(EventTarget.prototype.addEventListener, function() {\n\t\tvar joinpoint = meld.joinpoint();\n\n\t\tvar obj = joinpoint.target;\n\t\tvar eventType = joinpoint.args[0];\n\t\tvar listener = joinpoint.args[1];\n\n\t\tregistry[obj] = registry[obj] || {};\n\t\tregistry[obj][eventType] = registry[obj][eventType] || [];\n\n\t\tif (registry[obj][eventType].indexOf(listener) < 0) {\n\t\t\tregistry[obj][eventType].push(listener);\n\t\t}\n\n\t\tjoinpoint.proceed();\n\t});\n};\n\nlistenersRegistry.removeListeners = function(obj, eventType) {\n\tvar registry = this.registry;\n\n\tif (!registry[obj]) {\n\t\treturn;\n\t}\n\n\tif (eventType) {\n\t\tclearListenersForType(eventType);\n\t} else {\n\t\tfor (var type in registry[obj]) {\n\t\t\tclearListenersForType(type);\n\t\t}\n\t}\n\n\tfunction clearListenersForType(type) {\n\t\tfor (var lis in registry[obj][type]) {\n\t\t\tobj.removeEventListener(type, lis);\n\t\t}\n\n\t\tregistry[obj][type] = [];\n\t}\n};\n\nlistenersRegistry.getListeners = function(obj, eventType) {\n\treturn this.registry[obj][eventType];\n};\n\nmodule.exports = listenersRegistry;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/listenersregistry.js\n ** module id = 19\n ** module chunks = 0\n **/","var searchView = require(\"../views/searchview.js\");\nvar photosListController = require(\"../controllers/photoslistcontroller.js\");\n\nfunction start() {\n\tsearchView.render().then(function(result) {\n\t\tbindEvents();\n\t});\n}\n\nfunction bindEvents() {\n\tvar form = document.getElementById(\"search\");\n\t\n\tform.addEventListener('submit', handleSubmit.bind(undefined, form), true);\n}\n\nfunction handleSubmit(form, evt) {\n\tevt.preventDefault();\n\t\n\tvar query = {};\n\t\n\tquery.author = form.author.value;\n\tquery.title = form.title.value;\n\t\n\tphotosListController.fetchPhotos(query);\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/searchcontroller.js\n ** module id = 20\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"search\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/searchview.js\n ** module id = 21\n ** module chunks = 0\n **/","var signInView = require(\"../views/signinview.js\");\nvar auth = require(\"../authorization.js\");\nvar modals = require(\"../modals.js\");\n\nfunction start() {\n\tsignInView.render().then(function(result) {\n\t\tbindEvents();\n\t});\n}\n\nfunction bindEvents() {\n\tvar form = document.getElementById(\"signin\");\n\t\n\tform.addEventListener('submit', handleSubmit.bind(undefined, form), true);\n}\n\nfunction handleSubmit(form, evt) {\n\tevt.preventDefault();\n\n\tif (validate(form)) {\n\t\tauth.signIn(form.username.value, form.password.value)\n\t\t.then(\n\t\t\tfunction onFulfilled(result) {\n\t\t\t\twindow.location.href = \"#/photos\";\n\t\t\t},\n\t\t\tfunction onRejected(error) {\n\t\t\t\tui.showError(error);\n\t\t\t}\t\n\t\t);\n\t}\n}\n\nfunction validate(form) {\n\tvar u = form.username;\n\tvar p = form.password;\n\t\n\tif (!u.value) {\n\t\tshowError(\"Username field is empty.\");\n\t\treturn false;\n\t}\n\t\n\tif (!p.value) {\n\t\tshowError(\"Password field is empty.\");\n\t\treturn false;\n\t}\n\t\n\treturn true;\n}\n\nfunction showError(msg) {\n\tif (typeof HTMLFormElement.prototype.checkValidity != 'function') {\n\t\tmodals.showError(msg);\n\t}\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/signincontroller.js\n ** module id = 22\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"signin\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/signinview.js\n ** module id = 23\n ** module chunks = 0\n **/","var auth = require(\"../authorization.js\");\n\nfunction start() {\n\tauth.signOut().then(function() {\n\t\twindow.location.href = \"#/photos\";\n\t});\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/signoutcontroller.js\n ** module id = 24\n ** module chunks = 0\n **/","var signUpView = require(\"../views/signupview.js\");\nvar auth = require(\"../authorization.js\");\nvar modals = require(\"../modals.js\");\n\nfunction start() {\n\tsignUpView.render().then(function(result) {\n\t\tbindEvents();\n\t});\n}\n\nfunction bindEvents() {\n\tvar form = document.getElementById(\"signup\");\n\t\n\tform.addEventListener(\"submit\", handleSubmit.bind(undefined, form), true);\n}\n\nfunction handleSubmit(form, evt) {\n\tevt.preventDefault();\n\n\tif (validate(form)) {\n\t\tauth.signUp(form.username.value, form.password.value)\n\t\t.then(function() {\n\t\t\twindow.location.href = \"#/photos\";\n\t\t});\n\t}\n}\n\nfunction validate(form) {\n\tvar u = form.username;\n\tvar p = form.password;\n\tvar pr = form[\"password-repeat\"];\n\n\tif (!u.value) {\n\t\tshowError(\"Username field is empty.\");\n\t\treturn false;\n\t}\n\n\tif (!p.value) {\n\t\tshowError(\"Password field is empty.\");\n\t\treturn false;\n\t}\n\n\tif (p.value.length < 4) {\n\t\tmodals.showError(\"Password should be at least 4 chararcters long.\");\n\t\treturn false;\n\t}\n\n\tif (p.value != pr.value) {\n\t\tmodals.showError(\"Passwords do not match.\");\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nfunction showError(msg) {\n\tif (typeof HTMLFormElement.prototype.checkValidity != 'function') {\n\t\tmodals.showError(msg);\n\t}\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/signupcontroller.js\n ** module id = 25\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"signup\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/signupview.js\n ** module id = 26\n ** module chunks = 0\n **/","var uploadView = require(\"../views/uploadview.js\");\nvar contentLoader = require(\"../contentloader.js\");\nvar modals = require(\"../modals.js\");\n\nfunction start() {\n\tuploadView.render().then(function() {\n\t\tbindEvents();\n\t});\n}\n\nfunction bindEvents() {\n\tvar form = document.getElementById(\"upload\");\n\tvar dropbox = document.getElementById(\"dropbox\");\n\tvar iframe = document.getElementById(\"upload-iframe\");\n\tvar dropboxSpan = dropbox.getElementsByTagName(\"span\")[0];\n\tvar originalDropboxText = dropboxSpan.innerHTML;\n\n\tvar formOpts = {descriptionEntered: false};\n\n\tform.target = \"upload-iframe\";\n\n\tform.addEventListener(\"change\", \n\t\thandleFormChange.bind(\n\t\t\tundefined, form, formOpts, dropboxSpan), true);\n\n\tform.addEventListener(\"focus\", \n\t\thandleFormFocus.bind(\n\t\t\tundefined, form, formOpts), true);\n\n\tform.addEventListener(\"submit\", \n\t\thandleSubmit.bind(undefined, form), true);\n\n\tiframe.addEventListener(\"load\", \n\t\thandleIFrameLoad.bind(\n\t\t\tundefined, form, dropboxSpan, originalDropboxText), true);\n}\n\nfunction handleFormChange(form, formOpts, dropboxSpan, evt) {\n\tvar input = evt.target;\n\n\tif (input == form.description) {\n\t\tif (!input.value && formOpts.descriptionEntered) {\n\t\t\tinput.value = \"Description\";\n\t\t\tformOpts.descriptionEntered = false;\n\t\t}\n\t}\n\n\tif (input == form.fileselect) {\n\t\tvar files = input.files;\n\n\t\t// for IE\n\t\tif (!files) {\n\t\t\tfiles = [];            \n\t\t\tfiles.push({\n\t\t\t\tname: input.value.substring(input.value.lastIndexOf(\"\\\\\") + 1),\n\t\t\t\tsize: 0,\n\t\t\t\ttype: input.value.substring(input.value.lastIndexOf(\".\") + 1)\n\t\t\t});\n\n\t\t\tinput.files = files;\n\t\t}\n\n\t\tshowFileInfo(dropboxSpan, files[0]);\n\t}\n}\n\nfunction handleFormFocus(form, formOpts, evt) {\n\tvar input = evt.target;\n\n\tif (input == form.description) {\n\t\tif (!formOpts.descriptionEntered) {\n\t\t\tinput.value = \"\";\n\t\t\tformOpts.descriptionEntered = true;\n\t\t}\n\t}\n}\n\n\nfunction showFileInfo(dropboxSpan, file) {\n\tvar text = file.name;\n\ttext += file.size ? \" (\" + (file.size / (1024 * 1024)).toFixed(2) + \" MB)\" : \"\";\n\n\tdropboxSpan.innerHTML = text;\n}\n\nfunction handleSubmit(form, evt) {\n\tif (!validate(form)) { \n\t\tevt.preventDefault();\n\t\treturn; \n\t}\n}\n\nfunction handleIFrameLoad(form, dropboxSpan, originalDropboxText, formOpts, evt) {\n\tif (form.fileselect.files[0]) {\n\t\tmodals.showInfo(\"File uploaded\", 2000);\n\t}\n\n\tform.reset();\n\tformOpts.descriptionEntered = false;\n\n\tdropboxSpan.innerHTML = originalDropboxText;\n}\n\nfunction validate(form) {\n\tvar file = form.fileselect.files[0];\n\tvar errorContainer = form.getElementsByClassName(\"form-heading\")[0];\n\t\n\tif (file.size > 5 * 1024 * 1024) {\n\t\tmodals.showError(\"File size cannot be greater than 5 MB.\");\n\t\treturn;\n\t}\n\t\n\tif (!file.type.match(/(^image\\/|jpg|jpeg|png|bmp|gif)/)) {\n\t\tmodals.showError(\"Only image files are accepted.\");\n\t\treturn false;\n\t}\n\t\n\treturn true;\n}\n\nmodule.exports = {start: start};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/controllers/uploadcontroller.js\n ** module id = 27\n ** module chunks = 0\n **/","var contentLoader = require(\"../contentloader.js\");\nvar ui = require(\"../menushelper.js\");\n\nfunction render(model) {\n\treturn contentLoader.render(\"upload\").then(function(result) {\n\t\tui.authorization.menu().autoupdate();\n\t\tui.album.menu().user().upload().update();\n\t});\n}\n\nmodule.exports = {render: render};\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/views/uploadview.js\n ** module id = 28\n ** module chunks = 0\n **/"],"sourceRoot":""}